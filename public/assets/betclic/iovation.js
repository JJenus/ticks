!function M(){function b(r){var a,o={};for(a=r.length-1;-1<a;a--)0<a?o[a]=function(){var h=a;return function(){return g(r[h],o[h+1])}}():g(r[a],o[a+1])}function g(r,o){var a=document.createElement("script");a.setAttribute("src",r),o&&(a.onload=o),document.getElementsByTagName("head")[0].appendChild(a)}function i(r){if("function"==typeof e.trace_handler)try{e.trace_handler(r)}catch{}}function n(r,o){var a=null!=r;return!(!a||"1"!==r.toString()&&"true"!==r.toString().toLowerCase())||(!a||"0"!==r.toString()&&"false"!==r.toString().toLowerCase())&&"boolean"==typeof o&&o}var l,c,s,r,o,a,h,C,u,v,p,_,I,j,d,k,f=window,w=f.io_global_object_name||"IGLOO",e=f[w]=f[w]||{},t=e.loader=e.loader||{},y=[],m=[];if(t.loaderMain)return i("loader: Loader script has already run, try reducing the number of places it's being included."),!1;t.loaderMain=M,t.loaderVer="5.0.0",r=n(t.tp,!0),o=n(t.fp_static,!0),a=n(t.fp_dyn,!0),h=n(t.enable_legacy_compatibility),C=n(t.tp_split),u=t.tp_host||"https://mpsnare.iesnare.com",v=t.fp_static_override_uri,p=void 0!==t.uri_hook?t.uri_hook+"/":"/iojs/",_=(t.version||"versionOrAliasIsRequired")+"/",I=t.subkey?f.encodeURIComponent(t.subkey)+"/":"",j=t.tp_resource||"wdp.js",d=t.tp_host?"&tp_host="+f.encodeURIComponent(t.tp_host):"",k=v?"&fp_static_uri="+f.encodeURIComponent(v):"",l=n(e.enable_flash,!0),s=e.fp&&e.fp.enable_flash,c=null!=(c=e.io&&e.io.enable_flash)?n(c,!0):l,null!=s?s=n(s,!0):c=l,l=c?"&flash=true":"&flash=false",s=s?"&flash=true":"&flash=false",d="?loaderVer="+t.loaderVer+"&compat="+h+"&tp="+r+"&tp_split="+C+d+"&fp_static="+o+"&fp_dyn="+a+k,r||o||i("loader: Not currently configured to load fp_static or tp script(s)."),e.fp&&e.fp.api&&e.fp.api.stver+"/"!==_&&(_=e.fp.api.stver+"/",i("loader: Configured version replaced with that from pre-loaded static script.")),o||e.fp&&e.fp.staticMain?(p=(p+_+I).replace(/\/\//g,"/"),o&&(e.fp&&e.fp.staticMain?h&&!e.fp.preCompatMain&&i("loader: enable_legacy_compatibility on, but included static does not have the compat wrapper."):v?(o=!0,_.match(/([0-9]+\.){2}[0-9]+/)&&(o=!1),o?(a=!1,i("loader: You may not both override the fp static uri and used aliased versions, please either set a numeric version like #.#.# or disable fp_static_override_uri")):y.push(v)):y.push(p+"static_wdp.js"+d+s)),!a||e.fp&&e.fp.dynMain?e.fp&&e.fp.dynMain&&i("loader: First party dynamic script has already been loaded, disable fp_dyn or make sure you're not manually including the dynamic file separately."):y.push(p+"dyn_wdp.js"+d+s)):n(t.fp_dyn)&&i("loader: Invalid Config, first party dynamic script set to load without static."),r&&(u&&"/"===u[u.length-1]&&(u=u.slice(0,-1)),!e.io||e.io&&!e.io.staticMain?(p=u+"/"+_+I,C?(m.push(p+"static_wdp.js"+d+l),m.push(p+"dyn_wdp.js"+d+l),t.tp_resource&&i("loader: Invalid Config: both tp_resource and tp_split set. Ignoring tp_resource.")):m.push(p+j+d+l)):i("loader: Third party script has already been loaded.")),b(y),b(m)}();