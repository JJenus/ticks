!function(){function x(e){try{return document.head.querySelector(e)}catch{return null}}function g(e,t){return e="__pwacompat_"+e,void 0!==t&&(b[e]=t),b[e]}function T(){var e=(y=x('link[rel="manifest"]'))?y.href:"";if(!e)throw'can\'t find <link rel="manifest" href=".." />\'';var t=function U(e){for(var t={},r=0;r<e.length;t={c:t.c},++r){t.c=e[r];try{return new URL("",t.c),function(a){return function(f){return new URL(f||"",a.c).toString()}}(t)}catch{}}return function(a){return a||""}}([e,location]),r=g("manifest");if(r)try{R(JSON.parse(r),t)}catch(d){console.warn("PWACompat error",d)}else{var f=new XMLHttpRequest;f.open("GET",e),f.withCredentials="use-credentials"===y.getAttribute("crossorigin"),f.onload=function(){try{var d=JSON.parse(f.responseText);g("manifest",f.responseText),R(d,t)}catch(m){console.warn("PWACompat error",m)}},f.send(null)}}function O(e,t,r){if(!x(e+r)){for(var a in e=document.createElement(e),t)e.setAttribute(a,t[a]);return document.head.appendChild(e),e}}function c(e,t){t&&(!0===t&&(t="yes"),O("meta",{name:e,content:t},'[name="'+e+'"]'))}function V(e){var t=e.sizes.split(/\s+/g).map(function(r){return"any"===r?1/0:parseInt(r,10)||0});return{src:e.src,type:e.type,sizes:e.sizes,h:Math.max.apply(null,t),f:e.f?e.f.split(/\s+/g):["any"]}}function R(e,t){function r(o,n,l,u){var i=window.devicePixelRatio,s=C({width:o*i,height:n*i});if(s.scale(i,i),s.fillStyle=k,s.fillRect(0,0,o,n),s.translate(o/2,(n-20)/2),u&&(n=u.width/i,128<(i=u.height/i)&&(n/=i/128,i=128),48<=n&&48<=i&&(s.drawImage(u,n/-2,i/-2,n,i),s.translate(0,i/2+20))),s.fillStyle=F?"white":"black",s.font="24px HelveticaNeue-CondensedBold",s.font=getComputedStyle(y).getPropertyValue("--pwacompat-splash-font"),i=e.name||e.short_name||document.title,n=s.measureText(i),s.translate(0,u=n.j||24),n.width<.8*o)s.fillText(i,n.width/-2,0);else for(i=i.split(/\s+/g),n=1;n<=i.length;++n){var N=i.slice(0,n).join(" "),D=s.measureText(N).width;(n===i.length||D>.6*o)&&(s.fillText(N,D/-2,0),s.translate(0,1.2*u),i.splice(0,n),n=0)}return function(){var J=s.canvas.toDataURL();return a(l,J),J}}function a(o,n){var l=document.createElement("link");l.setAttribute("rel","apple-touch-startup-image"),l.setAttribute("media","(orientation: "+o+")"),l.setAttribute("href",n),document.head.appendChild(l)}function f(o,n){var l=window.screen,u=r(l.width,l.height,"portrait",o),i=r(l.height,l.width,"landscape",o);setTimeout(function(){v.p=u(),setTimeout(function(){v.l=i(),n()},10)},10)}function m(){g("iOS",JSON.stringify(v))}var p=(e.icons||[]).map(V).sort(function(o,n){return n.h-o.h}),h=p.filter(function(o){return-1<o.f.indexOf("any")}),S=(0<(p=p.filter(function(o){return-1<o.f.indexOf("maskable")})).length?p:h).map(function(o){var n={rel:"icon",href:t(o.src),sizes:o.sizes},l='[sizes="'+o.sizes+'"]';if(O("link",n,'[rel="icon"]'+l),w&&!(120>o.h))return n.rel="apple-touch-icon",O("link",n,'[rel="apple-touch-icon"]'+l)}).filter(Boolean),j=!!((p=x('meta[name="viewport"]'))&&p.content||"").match(/\bviewport-fit\s*=\s*cover\b/),A=e.display;if(c("mobile-web-app-capable",p=-1!==W.indexOf(A)),function B(e,t){if(w||X){var r=M(e);if(w)c("apple-mobile-web-app-status-bar-style",t?"black-translucent":r?"black":"default");else{e:{try{var a=Windows.UI.ViewManagement.ApplicationView.getForCurrentView().titleBar;break e}catch{}a=void 0}(t=a)&&(t.foregroundColor={r:r=r?255:0,g:r,b:r,a:255},e=I(e),t.backgroundColor={r:e[0],g:e[1],b:e[2],a:e[3]})}}}(e.theme_color||"black",j),P&&(c("application-name",e.short_name),c("msapplication-tooltip",e.description),c("msapplication-starturl",t(e.start_url||".")),c("msapplication-navbutton-color",e.theme_color),(h=h[0])&&c("msapplication-TileImage",t(h.src)),c("msapplication-TileColor",e.background_color)),c("theme-color",e.theme_color),w){var k=e.background_color||"#f8f9fa",F=M(k);if((h=function q(e){var t;return(e||[]).filter(function(r){return"itunes"===r.platform}).forEach(function(r){r.id?t=r.id:(r=r.url.match(/id(\d+)/))&&(t=r[1])}),t}(e.related_applications))&&c("apple-itunes-app","app-id="+h),c("apple-mobile-web-app-capable",p),c("apple-mobile-web-app-title",e.short_name||e.name),h=g("iOS"))try{var _=JSON.parse(h);return a("portrait",_.p),a("landscape",_.l),void S.forEach(function(o){var n=_.i[o.href];n&&(o.href=n)})}catch{}var v={i:{}};!function L(){var o=S.shift();if(o){var n=new Image;n.crossOrigin="anonymous",n.onerror=function(){L()},n.onload=function(){n.onload=null,f(n,function(){var l=e.background_color&&z(n,k);l?(o.href=l,v.i[n.src]=l,function d(o){function n(){--l||o()}var l=S.length+1;n(),S.forEach(function(u){var i=new Image;i.crossOrigin="anonymous",i.onerror=n,i.onload=function(){i.onload=null,u.href=z(i,k,!0),v.i[i.src]=u.href,n()},i.src=u.href})}(m)):m()})},n.src=o.href}else f(null,m)}()}else c("x5-orientation",h={por:"portrait",lan:"landscape"}[String(e.orientation||"").substr(0,3)]||""),c("screen-orientation",h),"fullscreen"===A?(c("x5-fullscreen","true"),c("full-screen","yes")):p&&(c("x5-page-mode","app"),c("browsermode","application"))}function I(e){var t=C();return t.fillStyle=e,t.fillRect(0,0,1,1),t.getImageData(0,0,1,1).data||[]}function M(e){return e=I(e).map(function(t){return.03928>(t/=255)?t/12.92:Math.pow((t+.055)/1.055,2.4)}),3<Math.abs(1.05/(.2126*e[0]+.7152*e[1]+.0722*e[2]+.05))}function z(e,t,r){r=void 0!==r&&r;var a=C(e);if(a.drawImage(e,0,0),r||255!==a.getImageData(0,0,1,1).data[3])return a.globalCompositeOperation="destination-over",a.fillStyle=t,a.fillRect(0,0,e.width,e.height),a.canvas.toDataURL()}function C(e){var t=(e=void 0===e?{width:1,height:1}:e).height,r=document.createElement("canvas");return r.width=e.width,r.height=t,r.getContext("2d")}if("onload"in XMLHttpRequest.prototype&&!navigator.m){var y,W=["standalone","fullscreen","minimal-ui"],E=navigator.userAgent||"",w=navigator.vendor&&-1!==navigator.vendor.indexOf("Apple")&&(-1!==E.indexOf("Mobile/")||"standalone"in navigator)||!1,P=!!E.match(/(MSIE |Edge\/|Trident\/)/),X=typeof Windows<"u";try{var b=sessionStorage}catch{}b=b||{},"complete"===document.readyState?T():window.addEventListener("load",T)}}();